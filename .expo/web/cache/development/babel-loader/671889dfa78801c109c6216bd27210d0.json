{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _navigate = require(\"./navigate\");\n\nvar SQLite = _interopRequireWildcard(require(\"expo-sqlite\"));\n\nvar _expoStatusBar = require(\"expo-status-bar\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\user007\\\\Desktop\\\\IMBA PROJECT\\\\PLANNER\\\\Planner\\\\App.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar db = SQLite.openDatabase({\n  name: 'mainAppbase'\n}, function () {}, function (error) {\n  console.log(error);\n});\n\nfunction App() {\n  var _this = this;\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      task = _useState2[0],\n      setTask = _useState2[1];\n\n  var _useState3 = (0, _react.useState)([]),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      tasks = _useState4[0],\n      setTasks = _useState4[1];\n\n  (0, _react.useEffect)(function () {\n    createTable(), getData();\n  }, []);\n\n  var createTable = function createTable() {\n    db.transaction(function (tx) {\n      tx.executeSql(\"CREATE TABLE IF NOT EXISTS Tasks (ID INTEGER PRIMARY KEY AUTOINCREMENT, name VARCHAR(20))\", [], function (error) {\n        console.log('error on creating table' + error.message);\n      });\n    });\n  };\n\n  var addTask = function addTask() {\n    if (!task) {\n      alert(\"Please enter a task\");\n      return false;\n    }\n\n    db.transaction(function (tx) {\n      tx.executeSql(\"INSERT INTO Tasks (name) VALUES(?)\", [task], function (sqltx, res) {\n        console.log(category + \" category added successfully\"), getData(), setTask(\"\");\n      }, function (error) {\n        console.log('error on creating table' + error.message);\n      });\n    });\n  };\n\n  var getData = function getData() {\n    db.transaction(function (tx) {\n      tx.executeSql(\"SELECT * FROM Tasks ORDER BY id DESC\", [], function (sqltx, res) {\n        var len = res.rows.length;\n\n        if (len > 0) {\n          var results = [];\n\n          for (var i = 0; i < len; i++) {\n            var item = res.rows.item(i);\n            results.push({\n              id: item.id,\n              name: item.name\n            });\n          }\n\n          setTasks(results);\n        }\n      }, function (error) {\n        console.log('error on getting task' + error.message);\n      });\n    });\n  };\n\n  var renderTasks = function renderTasks(_ref) {\n    var item = _ref.item;\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        flexDirection: 'row',\n        paddingVertical: '12',\n        paddingHorizontal: '10',\n        borderBottomWidth: '1',\n        borderColor: '#ddd'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: {\n        marginRight: 9\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, item.id), _react.default.createElement(_reactNative.Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, item.name));\n  };\n\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_expoStatusBar.StatusBar, {\n    backgroundColor: \"orange\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_reactNative.TextInput, {\n    style: styles.input,\n    onChangeText: setTask,\n    value: task,\n    placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0434\\u0435\\u043B\\u0430\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: styles.button,\n    activeOpacity: 0.4,\n    onPress: addTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")), _react.default.createElement(_reactNative.FlatList, {\n    data: tasks,\n    renderItem: renderTasks,\n    key: function key(cat) {\n      return cat.id;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar styles = _reactNative.StyleSheet.create({\n  body: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  block: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 15\n  },\n  button: {\n    marginTop: 20,\n    marginLeft: 10,\n    borderRadius: 4,\n    elevation: 5,\n    backgroundColor: '#eee'\n  },\n  text: {\n    fontSize: 15,\n    color: \"black\",\n    alignSelf: \"center\",\n    textTransform: \"uppercase\"\n  },\n  input: {\n    marginTop: 20,\n    marginHorizontal: 8,\n    width: '70%',\n    padding: 10,\n    borderStyle: 'solid',\n    borderBottomWidth: 2,\n    borderBottomColor: '#3949ab'\n  }\n});\n\nvar _default = App;\nexports.default = _default;","map":{"version":3,"names":["db","SQLite","openDatabase","name","error","console","log","App","useState","task","setTask","tasks","setTasks","useEffect","createTable","getData","transaction","tx","executeSql","message","addTask","alert","sqltx","res","category","len","rows","length","results","i","item","push","id","renderTasks","flexDirection","paddingVertical","paddingHorizontal","borderBottomWidth","borderColor","marginRight","styles","body","input","button","text","cat","StyleSheet","create","flex","alignItems","block","justifyContent","marginBottom","marginTop","marginLeft","borderRadius","elevation","backgroundColor","fontSize","color","alignSelf","textTransform","marginHorizontal","width","padding","borderStyle","borderBottomColor"],"sources":["C:/Users/user007/Desktop/IMBA PROJECT/PLANNER/Planner/App.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport { View, StyleSheet, Text, TextInput, TouchableOpacity, FlatList} from 'react-native';\nimport {MainStack} from './navigate'\nimport * as SQLite from 'expo-sqlite'\nimport { StatusBar } from 'expo-status-bar';\n\nconst db = SQLite.openDatabase(\n  {\n    name: 'mainAppbase',\n  },\n  ()=>{},\n  error=>{console.log(error)}\n); // returns Database object\n\nfunction App() {\n  const [task, setTask] = useState('')\n  const [tasks, setTasks] = useState([])\n\n  useEffect(() => {\n    createTable(),\n    getData()\n  }, [])\n\n  const createTable = () => {\n    db.transaction((tx) => {\n      tx.executeSql(\"CREATE TABLE IF NOT EXISTS Tasks (ID INTEGER PRIMARY KEY AUTOINCREMENT, name VARCHAR(20))\",\n      [],\n      error => {console.log('error on creating table' + error.message)}) \n    })\n  }\n  \n  const addTask = () => {\n    if (!task) {\n      alert(\"Please enter a task\");\n      return false;\n    }\n\n    db.transaction(tx => {\n      tx.executeSql(\"INSERT INTO Tasks (name) VALUES(?)\",\n      [task],\n      (sqltx, res) => {\n        console.log(`${category} category added successfully`),\n        getData(),\n        setTask(\"\")\n      },\n      error => {console.log('error on creating table' + error.message)})\n    })\n  }\n\n /* const setData = async () => {\n    if (task.length == 0) {\n      Alert.alert('Warning!', 'Please write your task.')\n  } else {\n    try{\n     db.transaction(async (tx) => {\n        // await tx.executeSql(\"INSERT INTO Goal (Task) VALUES (\" + item + \")\")\n        tx.executeSql(\"INSERT INTO Tasks (name) VALUES (?)\",\n         [task]);\n      })\n  }catch (error) {\n    console.log(error);\n  }}\n}*/\n\n  const getData = () => {\n      db.transaction((tx) => {\n          tx.executeSql(\n            \"SELECT * FROM Tasks ORDER BY id DESC\",\n            [],\n            (sqltx, res) => {\n                let len = res.rows.length;\n                  if (len > 0) {\n                    let results = [];\n                    for (let i = 0; i < len; i++) {\n                      let item = res.rows.item(i);\n                      results.push({id: item.id, name: item.name});\n                    }\n                    setTasks(results)\n                  }\n            },\n            error => {console.log('error on getting task' + error.message)}\n          )\n      })\n  }\n\n  const renderTasks = ({item}) => {\n    return (\n      <View style={{\n        flexDirection: 'row',\n        paddingVertical: '12',\n        paddingHorizontal: '10',\n        borderBottomWidth: '1',\n        borderColor: '#ddd'}}>\n        <Text style={{ marginRight: 9 }}>{item.id}</Text>\n        <Text>{item.name}</Text>\n      </View>\n    )\n  }\n\n  /*const removeData = async () => {\n    try {\n        // await AsyncStorage.clear();\n        db.transaction((tx) => {\n            tx.executeSql(\n                \"DELETE FROM Task\",\n                [],\n                //() => { navigation.navigate('Login') },\n                error => { console.log(error) }\n            )\n        })\n    } catch (error) {\n        console.log(error);\n    }\n}*/\n\n  return (\n    <View style={styles.body}>\n      <StatusBar backgroundColor='orange'/>\n      <TextInput style={styles.input}\n      onChangeText ={setTask}\n      value={task}\n      placeholder='Введите название дела'/>\n      <TouchableOpacity style={styles.button} activeOpacity={0.4} onPress={addTask}>\n      <Text style={styles.text}>Добавить</Text>\n      </TouchableOpacity>\n      <FlatList data={tasks} renderItem={renderTasks} key={cat => cat.id}/>\n  </View>\n\n  )\n}\n\nconst styles = StyleSheet.create({\n  body: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  block: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      marginBottom: 15\n  },\n  button: {\n      marginTop: 20,\n      marginLeft: 10,\n      borderRadius: 4,\n      elevation: 5,\n      backgroundColor: '#eee',\n      \n  },\n  text: {\n      fontSize: 15,\n      color: \"black\",\n      //fontWeight: \"bold\",\n      alignSelf: \"center\",\n      textTransform: \"uppercase\"\n  },\n  input: {\n      marginTop: 20,\n      marginHorizontal: 8,\n      width: '70%',\n      padding: 10,\n      borderStyle : 'solid',\n      borderBottomWidth: 2,\n      borderBottomColor: '#3949ab',\n  }\n})\n\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"script"}